@view-transition {
  navigation: auto;
}

:root {
  view-transition-name: none;
  /* View-transition timing */


}

nav {
  view-transition-name: nav-container;
}


::view-transition {
  /* Mirror variables */
  --transition-duration: 600ms;
}

::view-transition-group(*) {
  animation-timing-function: var(--transition-timing-motion);
}

/* Navigation layering via classes */
::view-transition-group(.nav-active) {
  animation-timing-function: var(--transition-timing-motion);
  z-index: 1;
}

::view-transition-group(.nav-foreground) {
  animation-timing-function: var(--transition-timing-style);
  z-index: 2;
}

main {
  view-transition-name: page;
  /* Label for styling */
  view-transition-class: page;
  contain: layout style paint;
  /* Compositing hints */
  will-change: opacity, transform;
}




::view-transition-old(.title),
::view-transition-new(.title) {
  object-position: left;
}

/* Theme toggle */
html.theme-transition {
  /* Temporary root name */
  view-transition-name: theme;
}

::view-transition-group(theme) {
  animation-duration: 300ms;
  animation-timing-function: var(--transition-timing-style);
}


/* Disable root fade for theme */
:root.theme-transition::view-transition-old(root),
:root.theme-transition::view-transition-new(root) {
  animation: none !important;
}

/* Limit to root during theme transition */
html.theme-transition * {
  view-transition-name: none !important;
}




/* Root cross-fade */
::view-transition-old(.page) {
  animation:
    page-exit-opacity-blur var(--transition-duration) var(--transition-timing-style) 0s 1 normal both,
    page-exit-scale var(--transition-duration) var(--transition-timing-motion) 0s 1 normal both;
}

::view-transition-new(.page) {
  animation:
    page-enter-opacity-blur var(--transition-duration) var(--transition-timing-style) 0s 1 normal both,
    page-enter-scale var(--transition-duration) var(--transition-timing-motion) 0s 1 normal both;
}



/* Preserve snapshot alignment */
::view-transition-old(.card),
::view-transition-new(.card) {
  height: 100%;
  border-radius: 8px;

}










::view-transition-group(*) {
  animation-duration: var(--transition-duration);
  animation-timing-function: var(--transition-timing-motion);
  isolation: isolate;

}

/* Thumbnail aspect-ratio */
::view-transition-group(.thumbnail) {
  overflow: clip;
}

::view-transition-old(.thumbnail),
::view-transition-new(.thumbnail) {
  object-fit: cover;
  object-position: center;
  width: 100%;
  height: 100%;
}









@keyframes page-exit-opacity-blur {
  from {
    opacity: 1;
    filter: blur(0px);
  }

  40% {
    opacity: 0;
    filter: blur(4px);
  }

  to {
    opacity: 0;
    filter: blur(4px);
  }
}

@keyframes page-exit-scale {
  from {
    transform: scale(1);
  }



  to {
    transform: scale(0.90);
  }
}

@keyframes page-enter-opacity-blur {
  from {
    opacity: 0;
    filter: blur(8px);
  }

  20% {
    opacity: 0;
    filter: blur(8px);
  }

  to {
    opacity: 1;
    filter: blur(0px);
  }
}

@keyframes page-enter-scale {
  from {
    transform: scale(0.95);
  }



  to {
    transform: scale(1);
  }
}

/* Mobile override removed */


@media (prefers-reduced-motion: reduce) {

  /* Reduced motion: disable */
  @view-transition {
    navigation: none;
  }

  ::view-transition-old(),
  ::view-transition-new() {
    animation: none !important;
  }
}

/* BFCache restore: disable root anim */
html.restoring ::view-transition-old(root),
html.restoring ::view-transition-new(root) {
  animation: none !important;
}



/* Shared elements */
::view-transition-group(.heading) {
  overflow: visible;
}

::view-transition-group(.thumbnail) {
  overflow: clip;
}

::view-transition-old(.heading),
::view-transition-old(.thumbnail) {
  animation: card-header-out var(--transition-duration) var(--transition-timing-motion);
}

::view-transition-new(.heading),
::view-transition-new(.thumbnail) {
  animation: card-header-in var(--transition-duration) var(--transition-timing-motion);
}


/* Cardâ†’Header keyframes */
@keyframes card-header-out {
  from {
    opacity: 1;
    filter: blur(0px);
  }

  40% {
    opacity: 0;
    filter: blur(8px);
  }

  to {
    opacity: 0;
    filter: blur(8px);
  }
}

@keyframes card-header-in {
  from {
    opacity: 0;
    filter: blur(8px);
  }

  60% {
    opacity: 1;
    ;
  }

  to {
    opacity: 1;
    filter: blur(0px);
  }
}
@view-transition {
  navigation: auto;
}

:root {
  view-transition-name: none;
}
site-navigation {
  view-transition-name: navigation;
  
}


/* match-element only works for same-document transitions, not cross-document */
/* Keeping for potential future same-document usage */




::view-transition {
  --transition-duration: 700ms;
}
::view-transition-group(*){
  animation-timing-function: var(--transition-timing);
}

main {
  view-transition-name: page;
  contain: layout style paint;
  /* Improve compositing during cross-document transitions */
  will-change: opacity, transform;
}

::view-transition-old(page) {
  animation: blur-out var(--transition-duration) var(--transition-timing);
}

::view-transition-new(page) {
  animation: blur-in var(--transition-duration) var(--transition-timing);
}



::view-transition-group(nav-background) {
  animation-duration: var(--transition-duration);
  animation-timing-function: var(--transition-timing);
}

::view-transition-old(nav-background),
::view-transition-new(nav-background) {
  animation-name: move;
  animation-duration: var(--transition-duration);
  animation-timing-function: var(--transition-timing);
  mix-blend-mode: normal;
}


@keyframes move{
  from {
   
    transform: scale(1);
  }
  50% {
   
    transform: scale(1.05);
  }
  to {
   
    
    transform: scale(1);
  }
}

@keyframes blur-out {
  from {
    opacity: 1;
    filter: blur(0px);
    transform: scale(1);
  }
  60% {
    opacity: 0;
    filter: blur(4px);
    transform: scale(0.99);
  }
  to {
    opacity: 0;
    
    transform: scale(0.99);
  }
}

@keyframes blur-in {
  from {
    opacity: 0;
    filter: blur(4px);
    transform: scale(0.98);
  }
  30% {
    opacity: 0;
    filter: blur(4px);
    transform: scale(0.98);
  }
  to {
    opacity: 1;
    filter: blur(0px);
    transform: scale(1);
  }
}


@media (prefers-reduced-motion: reduce) {
  ::view-transition-old(),
  ::view-transition-new(ge) {
    animation:none;
  }
}